@page
@model IndexModel
@{
    ViewData["Title"] = "Главная";
}

@section Styles {
    <link rel="stylesheet" href="~/css/site.css" />
    <!-- <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@300;400;500;600;700&family=Fira+Code:wght@300;400;500;600;700&display=swap" rel="stylesheet"> -->
}

<section id="home" class="hero">
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <a href="#home">TwinMIME</a>
            </div>
            <ul class="nav-menu">
                <li class="nav-item">
                    <a href="#home" class="nav-link">Главная</a>
                </li>
                <li class="nav-item">
                    <a href="#about" class="nav-link">Проект</a>
                </li>
                <li class="nav-item">
                    <a href="#services" class="nav-link">Подход</a>
                </li>
                <li class="nav-item">
                    <a href="#contacts" class="nav-link">Контакты</a>
                </li>
            </ul>
            <div class="theme-switcher">
                <span class="theme-label">Светлая</span>
                <label class="switch">
                    <input type="checkbox" id="theme-toggle">
                    <span class="slider round"></span>
                </label>
                <span class="theme-label">Тёмная</span>
            </div>
            @if (User.Identity?.IsAuthenticated == true)
            {
                <div class="user-menu">
                    <a href="/Account" class="nav-link">Yadro</a>
                </div>
            }
            <div class="hamburger">
                <span class="bar"></span>
                <span class="bar"></span>
                <span class="bar"></span>
            </div>
        </div>
    </nav>
    
    <div class="hero-content">
        <h1>TwinMIME</h1>
        <p>про AT&T with ❤️</p>
        <a href="/Blog" class="cta-button">Заходи если че</a>
        <div class="auth-forms">
            @if (User.Identity?.IsAuthenticated == true)
            {
                <div class="user-welcome">
                    <p>Добро пожаловать, @(User.Identity.Name ?? "Пользователь")!</p>
                    <form method="post" asp-page-handler="Logout">
                        <button type="submit" class="cta-button-small">Выйти</button>
                    </form>
                </div>
            }
            else
            {
                <div class="auth-tabs">
                    <button class="auth-tab active" onclick="showLogin()">Вход</button>
                    <button class="auth-tab" onclick="showRegister()">Регистрация</button>
                </div>
                
                <div class="auth-form" id="loginForm">
                    <form method="post" asp-page-handler="Login">
                        <input type="text" name="username" placeholder="Имя пользователя" required>
                        <input type="password" name="password" placeholder="Пароль" required>
                        <button type="submit" class="cta-button-small">Войти</button>
                    </form>
                </div>
                
                <div class="auth-form" id="registerForm" style="display: none;">
                    <form method="post" asp-page-handler="Register">
                        <input type="text" name="displayName" placeholder="Логин" required>
                        <input type="text" name="username" placeholder="Имя пользователя" required>
                        <input type="email" name="email" placeholder="Email" required>
                        <input type="password" name="password" placeholder="Пароль" required>
                        <input type="password" name="confirmPassword" placeholder="Подтвердите пароль" required>
                        <button type="submit" class="cta-button-small">Зарегистрироваться</button>
                    </form>
                </div>
            }
        </div>
    </div>
</section>

<section id="about" class="content-section">
    <div class="content-block">
        <h2>Об</h2>
        <p>AT&T — стандарт для языка ассемблера GAS (GNU Assembler) UNIX-подобных ОС платформ x86/x86_64🧙‍♂️.<br></br>
        Конкурент интоловских диалектов.</p>
    </div>
</section>

<section id="services" class="services-section">
    <h2 class="section-title">Зачем нужен ?</h2>
    <div class="services-container">
        <div class="service-item">
            <div>
                <div class="service-icon">🧱</div>
                <h3>Связный</h3>
                <p>Источник 🡆 назначение</p>
            </div>
            <a href="#contacts" class="cta-button-small">Читать дальше</a>
        </div>
        <div class="service-item">
            <div>
                <div class="service-icon">🧠</div>
                <h3>Явный</h3>
                <p>Суффиксы b/w/l/q явно определяют размер данных в инструкции</p>
            </div>
            <a href="#contacts" class="cta-button-small">Читать дальше</a>
        </div>
        <div class="service-item">
            <div>
                <div class="service-icon">🐧</div>
                <h3>Стандарт</h3>
                <p>Стандарт для GCC и GDB</p>
            </div>
            <a href="#contacts" class="cta-button-small">Читать дальше</a>
        </div>
    </div>
</section>

<section id="contacts" class="contacts">
    <h2>Контакты</h2>
    <div class="contact-info">
        <p><strong>Email:</strong> example@mail.com</p>
        <p><strong>Телефон:</strong> +7 (999) 999-99-99</p>
    </div>
</section>

@section Scripts {
    <script src="~/js/site.js"></script>
    <script>
    function showLogin() {
        document.getElementById('loginForm').style.display = 'block';
        document.getElementById('registerForm').style.display = 'none';
        document.querySelectorAll('.auth-tab').forEach(tab => tab.classList.remove('active'));
        document.querySelectorAll('.auth-tab')[0].classList.add('active');
    }

    function showRegister() {
        document.getElementById('loginForm').style.display = 'none';
        document.getElementById('registerForm').style.display = 'block';
        document.querySelectorAll('.auth-tab').forEach(tab => tab.classList.remove('active'));
        document.querySelectorAll('.auth-tab')[1].classList.add('active');
    }
    </script>
}